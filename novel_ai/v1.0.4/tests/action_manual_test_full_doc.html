<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Novel AI ì „ì²´ ë¬¸ì„œ</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: #080b16;
      color: #f2f4ff;
      font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
    }
    .top-banner {
      padding: 1.6rem 2.6rem;
      background: linear-gradient(135deg, rgba(36, 48, 112, 0.65), rgba(16, 20, 44, 0.92));
      border-bottom: 1px solid rgba(118, 138, 255, 0.25);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    @media (max-width: 991.98px) {
      .top-banner {
        padding: 1.4rem 1.4rem;
      }
    }
    .top-banner h1 {
      margin: 0;
      font-size: 1.9rem;
      font-weight: 700;
      color: #f2f4ff;
      letter-spacing: 0.02em;
    }
    .top-banner p {
      margin: 0;
      color: #c3ccff;
      font-size: 1rem;
      line-height: 1.6;
      max-width: 960px;
    }
    .doc-wrapper {
      flex: 1;
      display: flex;
      overflow: hidden;
      position: relative;
    }
    .doc-sidebar {
      width: 280px;
      min-width: 200px;
      max-width: 50%;
      background: rgba(12, 18, 38, 0.95);
      border-right: 1px solid rgba(118, 138, 255, 0.25);
      padding: 2rem 1.5rem;
      overflow-y: auto;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      z-index: 100;
      transition: transform 0.3s ease;
    }
    @media (max-width: 991.98px) {
      .doc-sidebar {
        min-width: 180px;
        max-width: 80%;
        transform: translateX(-100%);
      }
      .doc-sidebar.open {
        transform: translateX(0);
      }
    }
    .doc-resizer {
      position: fixed;
      top: 0;
      left: 280px;
      width: 4px;
      height: 100vh;
      background: rgba(118, 138, 255, 0.3);
      cursor: col-resize;
      z-index: 101;
      transition: background 0.2s ease;
    }
    .doc-resizer:hover {
      background: rgba(118, 138, 255, 0.6);
    }
    .doc-resizer.dragging {
      background: rgba(118, 138, 255, 0.8);
    }
    @media (max-width: 991.98px) {
      .doc-resizer {
        display: none;
      }
    }
    .doc-sidebar h3 {
      margin: 0 0 1.2rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: #d0d7ff;
      padding-bottom: 0.6rem;
      border-bottom: 1px solid rgba(118, 138, 255, 0.2);
    }
    .doc-sidebar-nav {
      list-style: none;
      padding: 0;
      margin: 0 0 2rem;
    }
    .doc-sidebar-nav li {
      margin-bottom: 0.4rem;
    }
    .doc-sidebar-nav a {
      display: block;
      padding: 0.6rem 0.8rem;
      color: #b7c1ff;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.2s ease;
      font-size: 0.92rem;
    }
    .doc-sidebar-nav a:hover {
      background: rgba(118, 138, 255, 0.15);
      color: #e0e5ff;
    }
    .doc-sidebar-nav a.active {
      background: rgba(118, 138, 255, 0.25);
      color: #f2f4ff;
      font-weight: 600;
    }
    .doc-toc {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .doc-toc li {
      margin-bottom: 0.3rem;
    }
    .doc-toc a {
      display: block;
      padding: 0.5rem 0.8rem;
      color: #a5b9ff;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.2s ease;
      font-size: 0.88rem;
      border-left: 2px solid transparent;
    }
    .doc-toc a:hover {
      background: rgba(118, 138, 255, 0.1);
      color: #d0d7ff;
      border-left-color: rgba(118, 138, 255, 0.5);
    }
    .doc-toc a.active {
      background: rgba(118, 138, 255, 0.2);
      color: #f2f4ff;
      border-left-color: rgba(118, 138, 255, 0.9);
      font-weight: 600;
    }
    .doc-toc .toc-h3 {
      padding-left: 1.2rem;
      font-size: 0.85rem;
    }
    .doc-container {
      flex: 1;
      margin-left: 280px;
      padding: 2.4rem 3rem;
      overflow-y: auto;
      max-width: calc(100% - 280px);
    }
    @media (max-width: 991.98px) {
      .doc-container {
        margin-left: 0;
        padding: 1.6rem 1.4rem;
        max-width: 100%;
      }
    }
    .doc-toggle-btn {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 102;
      background: rgba(118, 138, 255, 0.9);
      border: 1px solid rgba(118, 138, 255, 0.5);
      color: #f2f4ff;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: background 0.2s ease;
    }
    .doc-toggle-btn:hover {
      background: rgba(118, 138, 255, 1);
    }
    @media (max-width: 991.98px) {
      .doc-toggle-btn {
        display: block;
      }
    }
    .doc-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
    }
    @media (max-width: 991.98px) {
      .doc-overlay.open {
        display: block;
      }
    }
    .doc-section {
      margin-bottom: 3rem;
      background: rgba(12, 18, 38, 0.6);
      border: 1px solid rgba(118, 138, 255, 0.22);
      border-radius: 20px;
      padding: 2.4rem;
      box-shadow: 0 35px 65px rgba(10, 15, 34, 0.45);
    }
    @media (max-width: 991.98px) {
      .doc-section {
        padding: 1.6rem 1.4rem;
        border-radius: 18px;
      }
    }
    .doc-section h2 {
      margin: 0 0 1.2rem;
      font-size: 1.6rem;
      font-weight: 700;
      color: #e0e5ff;
      letter-spacing: 0.015em;
      border-bottom: 2px solid rgba(118, 138, 255, 0.3);
      padding-bottom: 0.8rem;
    }
    .doc-section h3 {
      margin: 1.8rem 0 0.8rem;
      font-size: 1.25rem;
      font-weight: 600;
      color: #d3daff;
    }
    .doc-section h4 {
      margin: 1.4rem 0 0.6rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: #c8d1ff;
    }
    .doc-section p {
      margin: 0 0 1rem;
      color: #b7c1ff;
      line-height: 1.7;
      font-size: 0.98rem;
    }
    .doc-section ul, .doc-section ol {
      margin: 0 0 1.2rem;
      padding-left: 1.8rem;
      color: #c0c9ff;
      line-height: 1.8;
    }
    .doc-section li {
      margin-bottom: 0.5rem;
    }
    .endpoint {
      display: inline-block;
      font-family: 'Fira Code', 'Roboto Mono', monospace;
      font-size: 0.95rem;
      color: #a5b9ff;
      background: rgba(20, 28, 62, 0.65);
      padding: 0.4rem 0.7rem;
      border-radius: 6px;
      margin-right: 0.5rem;
      border: 1px solid rgba(118, 138, 255, 0.35);
    }
    .method {
      display: inline-block;
      padding: 0.25rem 0.6rem;
      border-radius: 4px;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      margin-right: 0.5rem;
    }
    .method.post {
      background: rgba(74, 144, 226, 0.3);
      color: #7bb3ff;
      border: 1px solid rgba(74, 144, 226, 0.5);
    }
    .method.get {
      background: rgba(105, 220, 150, 0.3);
      color: #8dffc4;
      border: 1px solid rgba(105, 220, 150, 0.5);
    }
    pre {
      margin: 1.2rem 0;
      background: rgba(15, 21, 46, 0.85);
      border: 1px solid rgba(118, 138, 255, 0.3);
      border-radius: 12px;
      padding: 1.2rem 1.4rem;
      font-family: 'Fira Code', 'Roboto Mono', monospace;
      font-size: 0.9rem;
      color: #d8dcff;
      white-space: pre-wrap;
      word-break: break-all;
      overflow-x: auto;
    }
    code {
      color: #a5b9ff;
      background: rgba(20, 28, 62, 0.5);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
    }
    pre code {
      background: transparent;
      padding: 0;
    }
    .param-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.2rem 0;
      background: rgba(18, 24, 46, 0.6);
      border-radius: 12px;
      overflow: hidden;
    }
    .param-table th,
    .param-table td {
      padding: 0.8rem 1rem;
      text-align: left;
      border-bottom: 1px solid rgba(118, 138, 255, 0.15);
    }
    .param-table th {
      background: rgba(30, 42, 84, 0.6);
      color: #dce2ff;
      font-weight: 600;
      font-size: 0.92rem;
    }
    .param-table td {
      color: #c0c9ff;
      font-size: 0.9rem;
    }
    .param-table tr:last-child td {
      border-bottom: none;
    }
    .param-table code {
      font-size: 0.85em;
    }
    .note {
      background: rgba(255, 200, 120, 0.15);
      border-left: 4px solid rgba(255, 200, 120, 0.8);
      padding: 1rem 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      color: #ffe5be;
    }
    .note strong {
      display: block;
      margin-bottom: 0.4rem;
      color: #ffd89a;
    }
    .warning {
      background: rgba(255, 120, 120, 0.15);
      border-left: 4px solid rgba(255, 120, 120, 0.8);
      padding: 1rem 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      color: #ffcccc;
    }
    .warning strong {
      display: block;
      margin-bottom: 0.4rem;
      color: #ffaaaa;
    }
    .info {
      background: rgba(120, 180, 255, 0.15);
      border-left: 4px solid rgba(120, 180, 255, 0.8);
      padding: 1rem 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      color: #cce5ff;
    }
    .info strong {
      display: block;
      margin-bottom: 0.4rem;
      color: #aad5ff;
    }
    .example-box {
      background: rgba(16, 22, 40, 0.7);
      border: 1px solid rgba(118, 138, 255, 0.2);
      border-radius: 12px;
      padding: 1.2rem;
      margin: 1.2rem 0;
    }
    .example-box h4 {
      margin: 0 0 0.8rem;
      font-size: 1rem;
      color: #d0d7ff;
    }
    .diagram {
      background: rgba(20, 28, 50, 0.8);
      border: 1px solid rgba(118, 138, 255, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.2rem 0;
      font-family: 'Fira Code', 'Roboto Mono', monospace;
      font-size: 0.85rem;
      color: #d0d7ff;
      white-space: pre;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <header class="top-banner">
    <h1>Novel AI ì „ì²´ ë¬¸ì„œ</h1>
    <p>
      Novel AI ì‹œìŠ¤í…œì˜ ì „ì²´ ì•„í‚¤í…ì²˜, BIT ê³„ì‚° ì•Œê³ ë¦¬ì¦˜, ë°ì´í„° êµ¬ì¡°, API ì‚¬ìš©ë²•, ê·¸ë¦¬ê³  ëª¨ë“  ê¸°ëŠ¥ì— ëŒ€í•œ í¬ê´„ì ì¸ ë¬¸ì„œì…ë‹ˆë‹¤.
    </p>
  </header>

  <button class="doc-toggle-btn" id="docToggleBtn">â˜° ëª©ì°¨</button>
  <div class="doc-overlay" id="docOverlay"></div>

  <div class="doc-wrapper">
    <aside class="doc-sidebar" id="docSidebar">
      <h3>ë©”ë‰´</h3>
      <ul class="doc-sidebar-nav">
        <li><a href="action_manual_test.html">ğŸ“ ìˆ˜ë™ ì…ë ¥ í…ŒìŠ¤íŠ¸</a></li>
        <li><a href="action_manual_test_doc.html">ğŸ“š API ë¬¸ì„œ</a></li>
        <li><a href="action_manual_test_example.html">ğŸ§ª API ì˜ˆì œ</a></li>
        <li><a href="action_manual_test_full_doc.html" class="active">ğŸ“– ì „ì²´ ë¬¸ì„œ</a></li>
      </ul>
      <h3>ëª©ì°¨</h3>
      <ul class="doc-toc" id="docToc">
        <!-- JavaScriptë¡œ ìë™ ìƒì„± -->
      </ul>
    </aside>
    <div class="doc-resizer" id="docResizer"></div>

    <div class="doc-container">
      <!-- 1. ì‹œìŠ¤í…œ ê°œìš” -->
      <section class="doc-section" id="section-overview">
        <h2>1. ì‹œìŠ¤í…œ ê°œìš”</h2>
        <p>
          Novel AIëŠ” ì†Œì„¤ êµ¬ì„± ë°ì´í„°ë¥¼ ì†ì„±(Attribute)ê³¼ ë°ì´í„°(Data)ë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
          ê° ì†ì„±ì€ ê³ ìœ í•œ BIT ê°’(MAX/MIN)ì„ ê°€ì§€ë©°, ì´ ê°’ì— ë”°ë¼ ì¤‘ì²©ëœ í´ë” êµ¬ì¡°ì— ì €ì¥ë©ë‹ˆë‹¤.
        </p>
        
        <h3>1.1 í•µì‹¬ ê°œë…</h3>
        <ul>
          <li><strong>ì†ì„± (Attribute)</strong>: ë°ì´í„°ë¥¼ ë¶„ë¥˜í•˜ëŠ” ê³„ì¸µì  ê²½ë¡œ (ì˜ˆ: "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±")</li>
          <li><strong>ë°ì´í„° (Data)</strong>: ì‹¤ì œ ì €ì¥ë˜ëŠ” í…ìŠ¤íŠ¸ ë‚´ìš©</li>
          <li><strong>BIT ê°’</strong>: ì†ì„± í…ìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°ë˜ëŠ” ê³ ìœ í•œ ìˆ«ì ê°’ (MAX/MIN ìŒ)</li>
          <li><strong>í´ë” êµ¬ì¡°</strong>: BIT ê°’ì˜ ê° ìë¦¿ìˆ˜ë¥¼ í´ë”ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¤‘ì²© êµ¬ì¡°</li>
        </ul>

        <h3>1.2 ì €ì¥ ê·œì¹™</h3>
        <div class="note">
          <strong>ì¤‘ìš”:</strong> ë°ì´í„°ëŠ” ìì‹ ì˜ BIT ê°’ì„ ê³„ì‚°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. 
          ì˜¤ì§ ì†ì„±ì˜ BIT ê°’ë§Œìœ¼ë¡œ ì €ì¥ ìœ„ì¹˜ê°€ ê²°ì •ë˜ë©°, í•œ ë²ˆì˜ ì €ì¥ ìš”ì²­ìœ¼ë¡œ 
          MAX í´ë”ì™€ MIN í´ë”ì— ê°ê° 1ê°œì”© ì´ 2ê°œì˜ ë ˆì½”ë“œê°€ ì €ì¥ë©ë‹ˆë‹¤.
        </div>

        <h3>1.3 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h3>
        <div class="diagram">ë°ì´í„° íë¦„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í´ë¼ì´ì–¸íŠ¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /api/attributes/data
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„œë²„ (server.js)â”‚
â”‚ 1. BIT ê³„ì‚°     â”‚
â”‚ 2. ê²€ì¦        â”‚
â”‚ 3. ì €ì¥        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â–º data/max/[BIT ê²½ë¡œ]/log.ndjson
       â””â”€â–º data/min/[BIT ê²½ë¡œ]/log.ndjson
        </div>
      </section>

      <!-- 2. BIT ê³„ì‚° ì•Œê³ ë¦¬ì¦˜ -->
      <section class="doc-section" id="section-bit">
        <h2>2. BIT ê³„ì‚° ì•Œê³ ë¦¬ì¦˜</h2>
        <p>
          BIT (Binary Index Tree) ê°’ì€ í…ìŠ¤íŠ¸ë¥¼ ê³ ìœ í•œ ìˆ«ì ê°’ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì…ë‹ˆë‹¤.
          ê° í…ìŠ¤íŠ¸ëŠ” MAXì™€ MIN ë‘ ê°œì˜ BIT ê°’ì„ ê°€ì§€ë©°, ì´ ê°’ë“¤ì€ í´ë” êµ¬ì¡°ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
        </p>

        <h3>2.1 ê³„ì‚° ê³¼ì •</h3>
        <ol>
          <li><strong>í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬</strong>: ê¸°ë³¸ ì ‘ë‘ì‚¬("ì•ˆ ë…• í•œ êµ­ ì¸ í„° ë„· . í•œ êµ­")ì™€ ì…ë ¥ í…ìŠ¤íŠ¸ë¥¼ ê²°í•©</li>
          <li><strong>ìœ ë‹ˆì½”ë“œ ë³€í™˜</strong>: ê° ë¬¸ìë¥¼ ìœ ë‹ˆì½”ë“œ ì½”ë“œ í¬ì¸íŠ¸ë¡œ ë³€í™˜í•˜ê³  ì–¸ì–´ë³„ ì ‘ë‘ì‚¬ ì¶”ê°€</li>
          <li><strong>BIT ê³„ì‚°</strong>: ë³€í™˜ëœ ìˆ«ì ë°°ì—´ì„ ê¸°ë°˜ìœ¼ë¡œ MAX/MIN BIT ê°’ ê³„ì‚°</li>
        </ol>

        <h3>2.2 ì–¸ì–´ë³„ ì ‘ë‘ì‚¬</h3>
        <table class="param-table">
          <thead>
            <tr>
              <th>ì–¸ì–´</th>
              <th>ìœ ë‹ˆì½”ë“œ ë²”ìœ„</th>
              <th>ì ‘ë‘ì‚¬</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>í•œê¸€</td><td>0xAC00-0xD7AF</td><td>1000000</td></tr>
            <tr><td>íˆë¼ê°€ë‚˜</td><td>0x3040-0x309F</td><td>2000000</td></tr>
            <tr><td>ê°€íƒ€ì¹´ë‚˜</td><td>0x30A0-0x30FF</td><td>3000000</td></tr>
            <tr><td>í•œì</td><td>0x4E00-0x9FFF</td><td>4000000</td></tr>
            <tr><td>í‚¤ë¦´ ë¬¸ì</td><td>0x0410-0x044F</td><td>5000000</td></tr>
            <tr><td>ë¼í‹´ ë¬¸ì</td><td>0x0041-0x007A</td><td>6000000</td></tr>
            <tr><td>íˆë¸Œë¦¬ì–´</td><td>0x0590-0x05FF</td><td>7000000</td></tr>
            <tr><td>ë¼í‹´ í™•ì¥</td><td>0x00C0-0x00FD</td><td>8000000</td></tr>
            <tr><td>íƒœêµ­ì–´</td><td>0x0E00-0x0E7F</td><td>9000000</td></tr>
          </tbody>
        </table>

        <h3>2.3 BIT ê³„ì‚° ìƒìˆ˜</h3>
        <ul>
          <li><code>BIT_COUNT</code>: 50 (ê° ë¬¸ìë‹¹ ìƒì„±ë˜ëŠ” BIT ë°°ì—´ í¬ê¸°)</li>
          <li><code>BIT_BASE_VALUE</code>: 5.5 (ê¸°ë³¸ BIT ê°’)</li>
          <li><code>BIT_DEFAULT_PREFIX</code>: "ì•ˆ ë…• í•œ êµ­ ì¸ í„° ë„· . í•œ êµ­"</li>
        </ul>

        <div class="info">
          <strong>ì°¸ê³ :</strong> BIT ê³„ì‚°ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì—ì„œ ë™ì¼í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
          ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì „ì†¡í•œ BIT ê°’ì„ ì¬ê³„ì‚°í•˜ì—¬ ê²€ì¦í•©ë‹ˆë‹¤.
        </div>
      </section>

      <!-- 3. ë°ì´í„° êµ¬ì¡° -->
      <section class="doc-section" id="section-data-structure">
        <h2>3. ë°ì´í„° êµ¬ì¡°</h2>
        
        <h3>3.1 ì €ì¥ ë ˆì½”ë“œ í˜•ì‹</h3>
        <p>ê° ë ˆì½”ë“œëŠ” NDJSON (Newline Delimited JSON) í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤:</p>
        <pre><code>{
  "timestamp": "2025-11-11T01:00:00.000Z",
  "t": 1728600000000,
  "s": "ë°ì´í„° ë³¸ë¬¸ í…ìŠ¤íŠ¸",
  "max": null,
  "min": null,
  "attribute": {
    "text": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
    "bitMax": 3.065276923076923,
    "bitMin": 2.659123076923078
  },
  "data": {
    "text": "ë°ì´í„° ë³¸ë¬¸ í…ìŠ¤íŠ¸",
    "bitMax": null,
    "bitMin": null
  },
  "novel": {
    "title": "ë‹¤í¬ íŒíƒ€ì§€",
    "bitMax": 3.0614201680672273,
    "bitMin": 2.6035798319327736
  },
  "chapter": {
    "number": 1,
    "title": "ì œ1ì¥",
    "description": "íšŒì˜ì‹¤ì˜ ê¸´ì¥",
    "bitMax": 3.123456789012345,
    "bitMin": 2.987654321098765
  }
}</code></pre>

        <h3>3.2 í•„ë“œ ì„¤ëª…</h3>
        <table class="param-table">
          <thead>
            <tr>
              <th>í•„ë“œ</th>
              <th>íƒ€ì…</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>timestamp</code></td><td>string</td><td>ISO 8601 í˜•ì‹ì˜ ì €ì¥ ì‹œê°</td></tr>
            <tr><td><code>t</code></td><td>number</td><td>Unix íƒ€ì„ìŠ¤íƒ¬í”„ (ë°€ë¦¬ì´ˆ)</td></tr>
            <tr><td><code>s</code></td><td>string</td><td>ë°ì´í„° ë³¸ë¬¸ (data.textì™€ ë™ì¼)</td></tr>
            <tr><td><code>attribute</code></td><td>object</td><td>ì†ì„± ì •ë³´ (text, bitMax, bitMin)</td></tr>
            <tr><td><code>data</code></td><td>object</td><td>ë°ì´í„° ì •ë³´ (text, bitMaxëŠ” í•­ìƒ null)</td></tr>
            <tr><td><code>novel</code></td><td>object</td><td>ì†Œì„¤ ì •ë³´ (ì„ íƒì‚¬í•­)</td></tr>
            <tr><td><code>chapter</code></td><td>object</td><td>ì±•í„° ì •ë³´ (ì„ íƒì‚¬í•­)</td></tr>
          </tbody>
        </table>
      </section>

      <!-- 4. í´ë” êµ¬ì¡° -->
      <section class="doc-section" id="section-folder-structure">
        <h2>4. í´ë” êµ¬ì¡°</h2>
        
        <h3>4.1 ì¤‘ì²© í´ë” êµ¬ì¡°</h3>
        <p>
          BIT ê°’ì˜ ê° ìë¦¿ìˆ˜(ì†Œìˆ˜ì  ì œì™¸)ë¥¼ í´ë”ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì¤‘ì²©ëœ í´ë” êµ¬ì¡°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
          ì˜ˆë¥¼ ë“¤ì–´, BIT MAX ê°’ì´ <code>3.065276923076923</code>ì¸ ê²½ìš°:
        </p>
        <div class="diagram">data/
â”œâ”€â”€ max/
â”‚   â””â”€â”€ 3/
â”‚       â””â”€â”€ 0/
â”‚           â””â”€â”€ 6/
â”‚               â””â”€â”€ 5/
â”‚                   â””â”€â”€ 2/
â”‚                       â””â”€â”€ 7/
â”‚                           â””â”€â”€ 6/
â”‚                               â””â”€â”€ ...
â”‚                                   â””â”€â”€ max_bit/
â”‚                                       â””â”€â”€ log.ndjson
â””â”€â”€ min/
    â””â”€â”€ 2/
        â””â”€â”€ 6/
            â””â”€â”€ 5/
                â””â”€â”€ 9/
                    â””â”€â”€ 1/
                        â””â”€â”€ 2/
                            â””â”€â”€ ...
                                â””â”€â”€ min_bit/
                                    â””â”€â”€ log.ndjson</div>

        <h3>4.2 íŒŒì¼ ì €ì¥ ê·œì¹™</h3>
        <ul>
          <li>ê° í´ë”ì˜ ìµœí•˜ìœ„ì—ëŠ” <code>max_bit</code> ë˜ëŠ” <code>min_bit</code> í´ë”ê°€ ìƒì„±ë©ë‹ˆë‹¤</li>
          <li>ì‹¤ì œ ë ˆì½”ë“œëŠ” <code>log.ndjson</code> íŒŒì¼ì— NDJSON í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤</li>
          <li>ê°™ì€ í´ë”ì— ì—¬ëŸ¬ ë ˆì½”ë“œê°€ ì €ì¥ë  ìˆ˜ ìˆìœ¼ë©°, ê° ë ˆì½”ë“œëŠ” í•œ ì¤„ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤</li>
        </ul>

        <h3>4.3 í´ë” êµ¬ì¡° ì¡°íšŒ</h3>
        <p>
          <span class="method get">GET</span>
          <span class="endpoint">/api/tests/folders</span>
        </p>
        <p>MAX/MIN í´ë”ë³„ íŒŒì¼Â·ë ˆì½”ë“œ ê°œìˆ˜ë¥¼ ì§‘ê³„í•©ë‹ˆë‹¤.</p>
        <pre><code>curl "http://127.0.0.1:8123/api/tests/folders?includeFiles=true"</code></pre>
      </section>

      <!-- 5. API ì—”ë“œí¬ì¸íŠ¸ -->
      <section class="doc-section" id="section-api">
        <h2>5. API ì—”ë“œí¬ì¸íŠ¸</h2>

        <h3>5.1 ë°ì´í„° ì €ì¥</h3>
        <p>
          <span class="method post">POST</span>
          <span class="endpoint">/api/attributes/data</span>
        </p>
        <p>ì†ì„±ê³¼ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì„œë²„ê°€ ì†ì„± BIT ê°’ì„ ì¬ê³„ì‚°í•˜ì—¬ ê²€ì¦í•©ë‹ˆë‹¤.</p>
        
        <h4>ìš”ì²­ ë³¸ë¬¸</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>í•„ë“œ</th>
              <th>íƒ€ì…</th>
              <th>í•„ìˆ˜</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>attributeText</code></td><td>string</td><td>âœ“</td><td>ì†ì„± ì „ì²´ ê²½ë¡œ</td></tr>
            <tr><td><code>text</code></td><td>string</td><td>âœ“</td><td>ë°ì´í„° ë³¸ë¬¸</td></tr>
            <tr><td><code>attributeBitMax</code></td><td>number</td><td>âœ“</td><td>ì†ì„± BIT MAX (ì„œë²„ì—ì„œ ê²€ì¦)</td></tr>
            <tr><td><code>attributeBitMin</code></td><td>number</td><td>âœ“</td><td>ì†ì„± BIT MIN (ì„œë²„ì—ì„œ ê²€ì¦)</td></tr>
            <tr><td><code>novelTitle</code></td><td>string</td><td></td><td>ì†Œì„¤ ì œëª© (ì†ì„± í•„í„°ë¡œ ì‚¬ìš©)</td></tr>
            <tr><td><code>chapter</code></td><td>object</td><td></td><td>ì±•í„° ì •ë³´</td></tr>
          </tbody>
        </table>

        <h3>5.2 ì†ì„± ì…ë ¥ìœ¼ë¡œ ì¡°íšŒ</h3>
        <p>
          <span class="method get">GET</span>
          <span class="endpoint">/api/attributes/data</span>
        </p>
        <p>ì†ì„± BIT ê°’ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ìœ ì‚¬ë„ ê¸°ë°˜ ê²€ìƒ‰ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
        
        <h4>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>íŒŒë¼ë¯¸í„°</th>
              <th>íƒ€ì…</th>
              <th>í•„ìˆ˜</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>bitMax</code></td><td>number</td><td>âœ“</td><td>ì†ì„± BIT MAX</td></tr>
            <tr><td><code>bitMin</code></td><td>number</td><td>âœ“</td><td>ì†ì„± BIT MIN</td></tr>
            <tr><td><code>similarity</code></td><td>boolean</td><td></td><td>ìœ ì‚¬ë„ ê²€ìƒ‰ í™œì„±í™”</td></tr>
            <tr><td><code>threshold</code></td><td>number</td><td></td><td>ìœ ì‚¬ë„ ì„ê³„ê°’ (ê¸°ë³¸: 0.1)</td></tr>
            <tr><td><code>limit</code></td><td>number</td><td></td><td>ìµœëŒ€ ë°˜í™˜ ê°œìˆ˜ (ê¸°ë³¸: 100)</td></tr>
          </tbody>
        </table>

        <h3>5.3 ì „ì²´ ë°ì´í„° ì¡°íšŒ</h3>
        <p>
          <span class="method get">GET</span>
          <span class="endpoint">/api/tests/records</span>
        </p>
        <p>ì €ì¥ëœ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ì†Œì„¤ ì œëª©ìœ¼ë¡œ í•„í„°ë§ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>

        <h3>5.4 ë°ì´í„° ì‚­ì œ</h3>
        <p>
          <span class="method post">POST</span>
          <span class="endpoint">/api/attributes/data/delete</span>
        </p>
        <p>ì†ì„± BIT ê°’ê³¼ ë°ì´í„° í…ìŠ¤íŠ¸ë¡œ ë ˆì½”ë“œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.</p>

        <h3>5.5 ëª¨ë“  ì†ì„± ì¡°íšŒ</h3>
        <p>
          <span class="method get">GET</span>
          <span class="endpoint">/api/attributes/all</span>
        </p>
        <p>ì €ì¥ëœ ëª¨ë“  ì†ì„± ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.</p>

        <h3>5.6 í•„í„°ë§ëœ ì†ì„± ì¡°íšŒ</h3>
        <p>
          <span class="method get">GET</span>
          <span class="endpoint">/api/attributes/filtered</span>
        </p>
        <p>ì†Œì„¤ ì œëª©, ì±•í„° ë²ˆí˜¸, ê²€ìƒ‰ í‚¤ì›Œë“œ ë“±ìœ¼ë¡œ ì†ì„±ì„ í•„í„°ë§í•©ë‹ˆë‹¤.</p>
      </section>

      <!-- 6. ì†ì„± í•„í„°ë§ -->
      <section class="doc-section" id="section-filtering">
        <h2>6. ì†ì„± í•„í„°ë§</h2>
        
        <h3>6.1 ì†Œì„¤ ì œëª© í•„í„°</h3>
        <p>
          ì†Œì„¤ ì œëª©ì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì†Œì„¤ì˜ ì†ì„±ë§Œ ì¡°íšŒë©ë‹ˆë‹¤. 
          í•„í„°ë§ì€ ë‹¤ìŒ ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤:
        </p>
        <ul>
          <li><code>item.novel.title</code>ì´ ì†Œì„¤ ì œëª©ê³¼ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê²½ìš°</li>
          <li><code>item.attribute.text</code>ê°€ ì†Œì„¤ ì œëª©ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ê²½ìš° (ì˜ˆ: "ë‹¤í¬ íŒíƒ€ì§€ â†’ ...")</li>
        </ul>

        <h3>6.2 ì‚¬ìš© ì˜ˆì œ</h3>
        <pre><code>// ì†Œì„¤ ì œëª© ì…ë ¥
const novelTitle = "ë‹¤í¬ íŒíƒ€ì§€";

// ì†ì„± ê²½ë¡œ ìë™ êµ¬ì„±
const attributeText = `${novelTitle} â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±`;

// ì¡°íšŒ ì‹œ í•„í„°ë§
const response = await fetch(`/api/attributes/data?bitMax=...&bitMin=...`);
const data = await response.json();

// í´ë¼ì´ì–¸íŠ¸ ì¸¡ í•„í„°ë§
if (novelTitle) {
  data.items = data.items.filter(item => {
    return item.novel?.title === novelTitle || 
           item.attribute?.text?.startsWith(novelTitle + ' â†’');
  });
}</code></pre>
      </section>

      <!-- 7. ì‚¬ìš© ì˜ˆì œ -->
      <section class="doc-section" id="section-examples">
        <h2>7. ì‚¬ìš© ì˜ˆì œ</h2>

        <h3>7.1 ê¸°ë³¸ ì €ì¥ ì˜ˆì œ</h3>
        <pre><code>const attributeText = "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±";
const bits = calculateBitValues(attributeText);

const response = await fetch('http://127.0.0.1:8123/api/attributes/data', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    attributeText,
    attributeBitMax: bits.max,
    attributeBitMin: bits.min,
    text: "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
    novelTitle: "ë‹¤í¬ íŒíƒ€ì§€"
  })
});

const result = await response.json();
console.log('ì €ì¥ ì™„ë£Œ:', result);</code></pre>

        <h3>7.2 ì¡°íšŒ ì˜ˆì œ</h3>
        <pre><code>// ì†ì„± BIT ê°’ìœ¼ë¡œ ì¡°íšŒ
const response = await fetch(
  `http://127.0.0.1:8123/api/attributes/data?bitMax=${bits.max}&bitMin=${bits.min}`
);
const data = await response.json();

// ìœ ì‚¬ë„ ê¸°ë°˜ ê²€ìƒ‰
const response2 = await fetch(
  `http://127.0.0.1:8123/api/attributes/data?bitMax=${bits.max}&bitMin=${bits.min}&similarity=true&threshold=0.1`
);
const data2 = await response.json();</code></pre>

        <h3>7.3 ì‚­ì œ ì˜ˆì œ</h3>
        <pre><code>const response = await fetch('http://127.0.0.1:8123/api/attributes/data/delete', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    attributeBitMax: bits.max,
    attributeBitMin: bits.min,
    text: "ì‚­ì œí•  ë°ì´í„° ë³¸ë¬¸"
  })
});

const result = await response.json();
console.log('ì‚­ì œ ì™„ë£Œ:', result.deletedCount);</code></pre>
      </section>

      <!-- 8. FAQ -->
      <section class="doc-section" id="section-faq">
        <h2>8. FAQ</h2>

        <h3>8.1 BIT ê°’ì´ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤</h3>
        <div class="warning">
          <strong>ì›ì¸:</strong> í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê³„ì‚°í•œ BIT ê°’ê³¼ ì„œë²„ì—ì„œ ì¬ê³„ì‚°í•œ BIT ê°’ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          <br><strong>í•´ê²°:</strong> ì„œë²„ê°€ ì œê³µí•œ <code>expected</code> BIT ê°’ì„ ì‚¬ìš©í•˜ì—¬ ìë™ ì¬ì‹œë„í•˜ê±°ë‚˜, 
          í´ë¼ì´ì–¸íŠ¸ì˜ BIT ê³„ì‚° ë¡œì§ì„ í™•ì¸í•˜ì„¸ìš”.
        </div>

        <h3>8.2 ë°ì´í„°ê°€ ì¤‘ë³µìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤</h3>
        <div class="info">
          <strong>ì„¤ëª…:</strong> í•œ ë²ˆì˜ ì €ì¥ ìš”ì²­ìœ¼ë¡œ MAX í´ë”ì™€ MIN í´ë”ì— ê°ê° 1ê°œì”© ì €ì¥ë˜ëŠ” ê²ƒì´ ì •ìƒì…ë‹ˆë‹¤.
          ì´ëŠ” ì†ì„± BIT ê°’ì˜ MAXì™€ MINì— ë”°ë¼ ê°ê° ì €ì¥ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
        </div>

        <h3>8.3 ì†Œì„¤ ì œëª© í•„í„°ê°€ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</h3>
        <div class="note">
          <strong>í™•ì¸ì‚¬í•­:</strong>
          <ul>
            <li>ì†Œì„¤ ì œëª©ì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸</li>
            <li>ì†ì„± ê²½ë¡œê°€ "ì†Œì„¤ ì œëª© â†’ ..." í˜•ì‹ìœ¼ë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸</li>
            <li>í´ë¼ì´ì–¸íŠ¸ ì¸¡ í•„í„°ë§ ë¡œì§ì´ ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
          </ul>
        </div>

        <h3>8.4 í´ë” êµ¬ì¡°ê°€ ë„ˆë¬´ ê¹ŠìŠµë‹ˆë‹¤</h3>
        <div class="info">
          <strong>ì„¤ëª…:</strong> BIT ê°’ì˜ ìë¦¿ìˆ˜ë§Œí¼ í´ë”ê°€ ì¤‘ì²©ë©ë‹ˆë‹¤. 
          ì´ëŠ” ë°ì´í„° ë¶„ì‚°ê³¼ ê²€ìƒ‰ ì„±ëŠ¥ì„ ìœ„í•œ ì„¤ê³„ì…ë‹ˆë‹¤.
        </div>
      </section>

      <!-- 9. ë²„ì „ ì •ë³´ -->
      <section class="doc-section" id="section-version">
        <h2>9. ë²„ì „ ì •ë³´</h2>
        <table class="param-table">
          <thead>
            <tr>
              <th>ë²„ì „</th>
              <th>ë‚ ì§œ</th>
              <th>ì£¼ìš” ë³€ê²½ì‚¬í•­</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>v1.0.4</td>
              <td>2025-11-11</td>
              <td>
                <ul style="margin: 0; padding-left: 1.2rem;">
                  <li>ë°ì´í„° BIT ê³„ì‚° ì œê±° (ì†ì„± BITë§Œ ì‚¬ìš©)</li>
                  <li>ì†Œì„¤ ì œëª© ì†ì„± í•„í„° ì¶”ê°€</li>
                  <li>ìë™ ì¬ì‹œë„ ê¸°ëŠ¥ ì¶”ê°€</li>
                  <li>ì „ì²´ ë¬¸ì„œ í˜ì´ì§€ ì¶”ê°€</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>
  </div>

  <script>
    (() => {
      'use strict';
      const STORAGE_KEY = 'fullDocSidebarWidth';
      const DEFAULT_WIDTH = 280;
      let sidebarWidth = parseInt(localStorage.getItem(STORAGE_KEY)) || DEFAULT_WIDTH;

      function applySidebarWidth(width) {
        const sidebar = document.getElementById('docSidebar');
        const resizer = document.getElementById('docResizer');
        const container = document.querySelector('.doc-container');
        if (sidebar && resizer && container) {
          sidebar.style.width = `${width}px`;
          resizer.style.left = `${width}px`;
          container.style.marginLeft = `${width}px`;
          container.style.maxWidth = `calc(100% - ${width}px)`;
        }
      }

      function initResizer() {
        const resizer = document.getElementById('docResizer');
        if (!resizer) return;

        let isDragging = false;
        let startX = 0;
        let startWidth = 0;

        function handleMouseDown(e) {
          isDragging = true;
          startX = e.clientX;
          startWidth = sidebarWidth;
          resizer.classList.add('dragging');
          document.addEventListener('mousemove', handleMouseMove);
          document.addEventListener('mouseup', handleMouseUp);
          e.preventDefault();
        }

        function handleMouseMove(e) {
          if (!isDragging) return;
          const diff = e.clientX - startX;
          const newWidth = Math.max(200, Math.min(window.innerWidth * 0.5, startWidth + diff));
          sidebarWidth = newWidth;
          applySidebarWidth(newWidth);
        }

        function handleMouseUp() {
          isDragging = false;
          resizer.classList.remove('dragging');
          localStorage.setItem(STORAGE_KEY, sidebarWidth.toString());
          document.removeEventListener('mousemove', handleMouseMove);
          document.removeEventListener('mouseup', handleMouseUp);
        }

        resizer.addEventListener('mousedown', handleMouseDown);
      }

      function initMobileToggle() {
        const btn = document.getElementById('docToggleBtn');
        const sidebar = document.getElementById('docSidebar');
        const overlay = document.getElementById('docOverlay');
        if (!btn || !sidebar || !overlay) return;

        function toggle() {
          sidebar.classList.toggle('open');
          overlay.classList.toggle('open');
        }

        btn.addEventListener('click', toggle);
        overlay.addEventListener('click', toggle);
      }

      function generateTOC() {
        const toc = document.getElementById('docToc');
        const sections = document.querySelectorAll('.doc-section h2, .doc-section h3');
        if (!toc) return;

        sections.forEach((heading, index) => {
          const id = heading.id || `section-${index}`;
          if (!heading.id) heading.id = id;

          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = `#${id}`;
          a.textContent = heading.textContent;
          
          if (heading.tagName === 'H3') {
            a.classList.add('toc-h3');
          }
          
          a.addEventListener('click', (e) => {
            e.preventDefault();
            heading.scrollIntoView({ behavior: 'smooth', block: 'start' });
            if (window.innerWidth <= 991.98) {
              document.getElementById('docSidebar').classList.remove('open');
              document.getElementById('docOverlay').classList.remove('open');
            }
          });

          li.appendChild(a);
          toc.appendChild(li);
        });
      }

      function updateActiveTOC(activeId) {
        const tocLinks = document.querySelectorAll('.doc-toc a');
        tocLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${activeId}`) {
            link.classList.add('active');
          }
        });
      }

      function handleScroll() {
        const sections = document.querySelectorAll('.doc-section');
        const container = document.querySelector('.doc-container');
        if (!container) return;

        const scrollTop = container.scrollTop;
        let activeId = '';

        sections.forEach(section => {
          const heading = section.querySelector('h2');
          if (!heading) return;
          const offsetTop = section.offsetTop - container.offsetTop;
          if (scrollTop >= offsetTop - 100) {
            activeId = heading.id;
          }
        });

        if (activeId) updateActiveTOC(activeId);
      }

      function setActiveNavItem() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.doc-sidebar-nav a');
        navLinks.forEach(link => {
          link.classList.remove('active');
          const href = link.getAttribute('href');
          if (currentPath.endsWith(href)) {
            link.classList.add('active');
          }
        });
      }

      document.addEventListener('DOMContentLoaded', () => {
        setActiveNavItem();
        applySidebarWidth(sidebarWidth);
        initResizer();
        initMobileToggle();
        generateTOC();
        const container = document.querySelector('.doc-container');
        if (container) {
          container.addEventListener('scroll', handleScroll);
          handleScroll();
        }
        window.addEventListener('resize', () => {
          const maxWidth = window.innerWidth <= 991.98 ? window.innerWidth * 0.8 : window.innerWidth * 0.5;
          if (sidebarWidth > maxWidth) {
            applySidebarWidth(Math.min(sidebarWidth, maxWidth));
          }
        });
      });
    })();
  </script>
</body>
</html>

