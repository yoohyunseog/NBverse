<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Novel AI API ë¬¸ì„œ</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    :root { color-scheme: dark; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: #080b16;
      color: #f2f4ff;
      font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
    }
    .top-banner {
      padding: 1.6rem 2.6rem;
      background: linear-gradient(135deg, rgba(36, 48, 112, 0.65), rgba(16, 20, 44, 0.92));
      border-bottom: 1px solid rgba(118, 138, 255, 0.25);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    @media (max-width: 991.98px) {
      .top-banner {
        padding: 1.4rem 1.4rem;
      }
    }
    .top-banner h1 {
      margin: 0;
      font-size: 1.9rem;
      font-weight: 700;
      color: #f2f4ff;
      letter-spacing: 0.02em;
    }
    .top-banner p {
      margin: 0;
      color: #c3ccff;
      font-size: 1rem;
      line-height: 1.6;
      max-width: 960px;
    }
    .doc-wrapper {
      flex: 1;
      display: flex;
      overflow: hidden;
      position: relative;
    }
    .doc-sidebar {
      width: 280px;
      min-width: 200px;
      max-width: 50%;
      background: rgba(12, 18, 38, 0.95);
      border-right: 1px solid rgba(118, 138, 255, 0.25);
      padding: 2rem 1.5rem;
      overflow-y: auto;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      z-index: 100;
      transition: transform 0.3s ease;
    }
    @media (max-width: 991.98px) {
      .doc-sidebar {
        min-width: 180px;
        max-width: 80%;
        transform: translateX(-100%);
      }
      .doc-sidebar.open {
        transform: translateX(0);
      }
    }
    .doc-resizer {
      position: fixed;
      top: 0;
      left: 280px;
      width: 4px;
      height: 100vh;
      background: rgba(118, 138, 255, 0.3);
      cursor: col-resize;
      z-index: 101;
      transition: background 0.2s ease;
    }
    .doc-resizer:hover {
      background: rgba(118, 138, 255, 0.6);
    }
    .doc-resizer.dragging {
      background: rgba(118, 138, 255, 0.8);
    }
    @media (max-width: 991.98px) {
      .doc-resizer {
        display: none;
      }
    }
    .doc-sidebar h3 {
      margin: 0 0 1.2rem;
      font-size: 1.1rem;
      font-weight: 700;
      color: #e0e5ff;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }
    .doc-toc {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .doc-toc li {
      margin-bottom: 0.5rem;
    }
    .doc-toc a {
      display: block;
      padding: 0.6rem 0.8rem;
      color: #b7c1ff;
      text-decoration: none;
      border-radius: 8px;
      transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
      font-size: 0.92rem;
      line-height: 1.4;
    }
    .doc-toc a:hover {
      background: rgba(118, 138, 255, 0.15);
      color: #d3daff;
      transform: translateX(4px);
    }
    .doc-toc a.active {
      background: rgba(118, 138, 255, 0.25);
      color: #e0e5ff;
      font-weight: 600;
      border-left: 3px solid rgba(118, 138, 255, 0.8);
    }
    .doc-toc .sub-item {
      padding-left: 1.8rem;
      font-size: 0.88rem;
      color: #9aa5d9;
    }
    .doc-toc .sub-item a {
      padding: 0.45rem 0.8rem;
    }
    .doc-sidebar-nav {
      list-style: none;
      padding: 0;
      margin: 0 0 2rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      border-bottom: 1px solid rgba(118, 138, 255, 0.2);
      padding-bottom: 1.5rem;
    }
    .doc-sidebar-nav li {
      margin: 0;
    }
    .doc-sidebar-nav a {
      display: block;
      padding: 0.8rem 1rem;
      color: #b7c1ff;
      text-decoration: none;
      border-radius: 8px;
      transition: background 0.2s ease, color 0.2s ease, transform 0.2s ease;
      font-size: 0.94rem;
      line-height: 1.4;
      border: 1px solid rgba(118, 138, 255, 0.2);
    }
    .doc-sidebar-nav a:hover {
      background: rgba(118, 138, 255, 0.15);
      color: #d3daff;
      transform: translateX(4px);
      border-color: rgba(118, 138, 255, 0.4);
    }
    .doc-sidebar-nav a.active {
      background: rgba(118, 138, 255, 0.25);
      color: #e0e5ff;
      font-weight: 600;
      border-left: 3px solid rgba(118, 138, 255, 0.8);
    }
    .doc-container {
      flex: 1;
      padding: 2.8rem 2.4rem;
      max-width: 1200px;
      margin-left: 284px;
      width: calc(100% - 284px);
      overflow-y: auto;
      transition: margin-left 0.2s ease, width 0.2s ease;
    }
    @media (max-width: 991.98px) {
      .doc-container {
        padding: 1.8rem 1.2rem;
        margin-left: 0;
        width: 100%;
      }
    }
    .doc-toggle-btn {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 102;
      background: rgba(118, 138, 255, 0.9);
      border: 1px solid rgba(118, 138, 255, 0.5);
      color: #f2f4ff;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: background 0.2s ease;
    }
    .doc-toggle-btn:hover {
      background: rgba(118, 138, 255, 1);
    }
    @media (max-width: 991.98px) {
      .doc-toggle-btn {
        display: block;
      }
    }
    .doc-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
    }
    @media (max-width: 991.98px) {
      .doc-overlay.open {
        display: block;
      }
    }
    .doc-section {
      margin-bottom: 3rem;
      background: rgba(12, 18, 38, 0.6);
      border: 1px solid rgba(118, 138, 255, 0.22);
      border-radius: 20px;
      padding: 2.4rem;
      box-shadow: 0 35px 65px rgba(10, 15, 34, 0.45);
    }
    @media (max-width: 991.98px) {
      .doc-section {
        padding: 1.6rem 1.4rem;
        border-radius: 18px;
      }
    }
    .doc-section h2 {
      margin: 0 0 1.2rem;
      font-size: 1.6rem;
      font-weight: 700;
      color: #e0e5ff;
      letter-spacing: 0.015em;
      border-bottom: 2px solid rgba(118, 138, 255, 0.3);
      padding-bottom: 0.8rem;
    }
    .doc-section h3 {
      margin: 1.8rem 0 0.8rem;
      font-size: 1.25rem;
      font-weight: 600;
      color: #d3daff;
    }
    .doc-section p {
      margin: 0 0 1rem;
      color: #b7c1ff;
      line-height: 1.7;
      font-size: 0.98rem;
    }
    .doc-section ul, .doc-section ol {
      margin: 0 0 1.2rem;
      padding-left: 1.8rem;
      color: #c0c9ff;
      line-height: 1.8;
    }
    .doc-section li {
      margin-bottom: 0.5rem;
    }
    .endpoint {
      display: inline-block;
      font-family: 'Fira Code', 'Roboto Mono', monospace;
      font-size: 0.95rem;
      color: #a5b9ff;
      background: rgba(20, 28, 62, 0.65);
      padding: 0.4rem 0.7rem;
      border-radius: 6px;
      margin-right: 0.5rem;
      border: 1px solid rgba(118, 138, 255, 0.35);
    }
    .method {
      display: inline-block;
      padding: 0.25rem 0.6rem;
      border-radius: 4px;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      margin-right: 0.5rem;
    }
    .method.post {
      background: rgba(74, 144, 226, 0.3);
      color: #7bb3ff;
      border: 1px solid rgba(74, 144, 226, 0.5);
    }
    .method.get {
      background: rgba(105, 220, 150, 0.3);
      color: #8dffc4;
      border: 1px solid rgba(105, 220, 150, 0.5);
    }
    pre {
      margin: 1.2rem 0;
      background: rgba(15, 21, 46, 0.85);
      border: 1px solid rgba(118, 138, 255, 0.3);
      border-radius: 12px;
      padding: 1.2rem 1.4rem;
      font-family: 'Fira Code', 'Roboto Mono', monospace;
      font-size: 0.9rem;
      color: #d8dcff;
      white-space: pre-wrap;
      word-break: break-all;
      overflow-x: auto;
    }
    code {
      color: #a5b9ff;
      background: rgba(20, 28, 62, 0.5);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
    }
    pre code {
      background: transparent;
      padding: 0;
    }
    .param-table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.2rem 0;
      background: rgba(18, 24, 46, 0.6);
      border-radius: 12px;
      overflow: hidden;
    }
    .param-table th,
    .param-table td {
      padding: 0.8rem 1rem;
      text-align: left;
      border-bottom: 1px solid rgba(118, 138, 255, 0.15);
    }
    .param-table th {
      background: rgba(30, 42, 84, 0.6);
      color: #dce2ff;
      font-weight: 600;
      font-size: 0.92rem;
    }
    .param-table td {
      color: #c0c9ff;
      font-size: 0.9rem;
    }
    .param-table tr:last-child td {
      border-bottom: none;
    }
    .param-table code {
      font-size: 0.85em;
    }
    .note {
      background: rgba(255, 200, 120, 0.15);
      border-left: 4px solid rgba(255, 200, 120, 0.8);
      padding: 1rem 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      color: #ffe5be;
    }
    .note strong {
      display: block;
      margin-bottom: 0.4rem;
      color: #ffd89a;
    }
    .example-box {
      background: rgba(16, 22, 40, 0.7);
      border: 1px solid rgba(118, 138, 255, 0.2);
      border-radius: 12px;
      padding: 1.2rem;
      margin: 1.2rem 0;
    }
    .example-box h4 {
      margin: 0 0 0.8rem;
      font-size: 1rem;
      color: #d0d7ff;
    }
  </style>
</head>
<body>
  <header class="top-banner">
    <h1>Novel AI API ë¬¸ì„œ</h1>
    <p>
      Novel AI ì„œë²„ì˜ ì†ì„±Â·ë°ì´í„° ì €ì¥ ë° ì¡°íšŒ API ì‚¬ìš© ê°€ì´ë“œì…ë‹ˆë‹¤.
      BIT ê³„ì‚° ê¸°ë°˜ì˜ í´ë” êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ MAX/MIN ë””ë ‰í„°ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤.
    </p>
  </header>

  <button class="doc-toggle-btn" id="docToggleBtn">â˜° ëª©ì°¨</button>
  <div class="doc-overlay" id="docOverlay"></div>

  <div class="doc-wrapper">
    <aside class="doc-sidebar" id="docSidebar">
      <h3>ë©”ë‰´</h3>
      <ul class="doc-sidebar-nav">
        <li><a href="action_manual_test.html">ğŸ“ ìˆ˜ë™ ì…ë ¥ í…ŒìŠ¤íŠ¸</a></li>
        <li><a href="action_manual_test_doc.html" class="active">ğŸ“š API ë¬¸ì„œ</a></li>
        <li><a href="action_manual_test_example.html">ğŸ§ª API ì˜ˆì œ</a></li>
        <li><a href="action_manual_test_full_doc.html">ğŸ“– ì „ì²´ ë¬¸ì„œ</a></li>
      </ul>
      <h3>ëª©ì°¨</h3>
      <ul class="doc-toc" id="docToc">
        <!-- JavaScriptë¡œ ìë™ ìƒì„± -->
      </ul>
    </aside>
    <div class="doc-resizer" id="docResizer"></div>

    <div class="doc-container">
      <!-- ê°œìš” -->
      <section class="doc-section" id="section-overview">
        <h2>ê°œìš”</h2>
      <p>
        Novel AI APIëŠ” ì†Œì„¤ êµ¬ì„± ë°ì´í„°ë¥¼ ì†ì„±(attribute)ê³¼ ë°ì´í„°(data)ë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.
        ê° ì†ì„±ì€ BIT ê°’(MAX/MIN)ì„ ê¸°ë°˜ìœ¼ë¡œ ì¤‘ì²©ëœ í´ë” êµ¬ì¡°ì— ì €ì¥ë˜ë©°,
        ë°ì´í„°ëŠ” ì†ì„± BIT ê°’ìœ¼ë¡œë§Œ ì €ì¥ë©ë‹ˆë‹¤ (ë°ì´í„° ìì²´ì˜ BIT ê³„ì‚°ì€ í•˜ì§€ ì•ŠìŒ).
      </p>
      <p>
        <strong>ì €ì¥ ê·œì¹™:</strong> í•œ ë²ˆì˜ ì €ì¥ ìš”ì²­ìœ¼ë¡œ ì†ì„± BIT MAXì™€ MIN ê°’ì— ë”°ë¼
        ì´ 2ê°œì˜ ë ˆì½”ë“œê°€ ê°ê° <code>data/max/...</code>ì™€ <code>data/min/...</code> í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤.
      </p>
    </section>

      <!-- API ì—”ë“œí¬ì¸íŠ¸ -->
      <section class="doc-section" id="section-endpoints">
        <h2>API ì—”ë“œí¬ì¸íŠ¸</h2>

      <h3>1. ë°ì´í„° ì €ì¥</h3>
      <p>
        <span class="method post">POST</span>
        <span class="endpoint">/api/attributes/data</span>
      </p>
      <p>ì†ì„±ê³¼ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. ì„œë²„ê°€ ì†ì„± BIT ê°’ì„ ì¬ê³„ì‚°í•˜ì—¬ ê²€ì¦í•˜ê³ , MAX/MIN í´ë”ì— ê°ê° ì €ì¥í•©ë‹ˆë‹¤.</p>

      <div class="example-box">
        <h4>ìš”ì²­ ë³¸ë¬¸ (Request Body)</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>í•„ë“œ</th>
              <th>íƒ€ì…</th>
              <th>í•„ìˆ˜</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>attributeText</code></td>
              <td>string</td>
              <td>âœ“</td>
              <td>ì†ì„± ì „ì²´ ê²½ë¡œ (ì˜ˆ: "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±")</td>
            </tr>
            <tr>
              <td><code>text</code></td>
              <td>string</td>
              <td>âœ“</td>
              <td>ì €ì¥í•  ë°ì´í„° ë³¸ë¬¸</td>
            </tr>
            <tr>
              <td><code>attributeBitMax</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì†ì„± BIT MAX ê°’ (ì„œë²„ì—ì„œ ì¬ê²€ì¦ë¨)</td>
            </tr>
            <tr>
              <td><code>attributeBitMin</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì†ì„± BIT MIN ê°’ (ì„œë²„ì—ì„œ ì¬ê²€ì¦ë¨)</td>
            </tr>
            <tr>
              <td><code>novelTitle</code></td>
              <td>string</td>
              <td></td>
              <td>ì†Œì„¤ ì œëª© (ì„ íƒì‚¬í•­)</td>
            </tr>
            <tr>
              <td><code>novelTitleBitMax</code></td>
              <td>number</td>
              <td></td>
              <td>ì†Œì„¤ ì œëª© BIT MAX (ì„ íƒì‚¬í•­)</td>
            </tr>
            <tr>
              <td><code>novelTitleBitMin</code></td>
              <td>number</td>
              <td></td>
              <td>ì†Œì„¤ ì œëª© BIT MIN (ì„ íƒì‚¬í•­)</td>
            </tr>
            <tr>
              <td><code>chapter</code></td>
              <td>object</td>
              <td></td>
              <td>ì±•í„° ì •ë³´ ê°ì²´ (number, title, description í¬í•¨)</td>
            </tr>
            <tr>
              <td><code>chapterBitMax</code></td>
              <td>number</td>
              <td></td>
              <td>ì±•í„° BIT MAX (ì„ íƒì‚¬í•­)</td>
            </tr>
            <tr>
              <td><code>chapterBitMin</code></td>
              <td>number</td>
              <td></td>
              <td>ì±•í„° BIT MIN (ì„ íƒì‚¬í•­)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="note">
        <strong>ì°¸ê³ :</strong> <code>dataBitMax</code>ì™€ <code>dataBitMin</code>ì€ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
        ì„œë²„ëŠ” ë°ì´í„°ì˜ BIT ê°’ì„ ê³„ì‚°í•˜ì§€ ì•Šê³ , ì†ì„± BIT ê°’ë§Œìœ¼ë¡œ ì €ì¥ ìœ„ì¹˜ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
      </div>

      <h4>ì˜ˆì œ ìš”ì²­</h4>
      <pre><code>curl -X POST http://127.0.0.1:8123/api/attributes/data \
  -H "Content-Type: application/json" \
  -d '{
    "attributeText": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
    "attributeBitMax": 3.065276923076923,
    "attributeBitMin": 2.659123076923078,
    "text": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
    "novelTitle": "ë‹¤í¬ íŒíƒ€ì§€"
  }'</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true,
  "record": {
    "timestamp": "2025-11-11T01:00:00.000Z",
    "t": 1728600000000,
    "s": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
    "attribute": {
      "text": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
      "bitMax": 3.065276923076923,
      "bitMin": 2.659123076923078
    },
    "data": {
      "text": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
      "bitMax": null,
      "bitMin": null
    }
  },
  "files": {
    "attributeMax": "data/max/3/0/6/5/.../max_bit/...ndjson",
    "attributeMin": "data/min/2/6/5/9/.../min_bit/...ndjson"
  }
}</code></pre>

      <h3>2. ë°ì´í„° ì¡°íšŒ</h3>
      <p>
        <span class="method get">GET</span>
        <span class="endpoint">/api/tests/records</span>
      </p>
      <p>ì €ì¥ëœ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. MAX/MIN í´ë”ë¥¼ ì¬ê·€ì ìœ¼ë¡œ ìŠ¤ìº”í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.</p>

      <h3>2-1. ì†ì„± ì…ë ¥ìœ¼ë¡œ ì¡°íšŒ</h3>
      <p>
        <span class="method get">GET</span>
        <span class="endpoint">/api/attributes/data</span>
      </p>
      <p>ì†ì„± BIT ê°’ì„ ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ì†ì„±ì— ì—°ê²°ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ì •í™•í•œ ì¼ì¹˜ ë˜ëŠ” ìœ ì‚¬ë„ ê¸°ë°˜ ê²€ìƒ‰ì„ ì§€ì›í•©ë‹ˆë‹¤.</p>

      <div class="example-box">
        <h4>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>íŒŒë¼ë¯¸í„°</th>
              <th>íƒ€ì…</th>
              <th>í•„ìˆ˜</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>bitMax</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì†ì„± BIT MAX ê°’</td>
            </tr>
            <tr>
              <td><code>bitMin</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì†ì„± BIT MIN ê°’</td>
            </tr>
            <tr>
              <td><code>similarity</code></td>
              <td>boolean</td>
              <td></td>
              <td>trueì¼ ê²½ìš° ìœ ì‚¬ë„ ê¸°ë°˜ ê²€ìƒ‰ (ê¸°ë³¸ê°’: false, ì •í™•í•œ ì¼ì¹˜)</td>
            </tr>
            <tr>
              <td><code>threshold</code></td>
              <td>number</td>
              <td></td>
              <td>ìœ ì‚¬ë„ ê²€ìƒ‰ ì‹œ ì‚¬ìš©í•  ì„ê³„ê°’ (ê¸°ë³¸ê°’: 0.1)</td>
            </tr>
            <tr>
              <td><code>limit</code></td>
              <td>number</td>
              <td></td>
              <td>ìµœëŒ€ ë°˜í™˜ ê°œìˆ˜ (ê¸°ë³¸ê°’: 100, ìµœëŒ€: 1000)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4>ì˜ˆì œ ìš”ì²­ (ì •í™•í•œ ì¼ì¹˜)</h4>
      <pre><code>curl "http://127.0.0.1:8123/api/attributes/data?bitMax=3.065276923076923&bitMin=2.659123076923078"</code></pre>

      <h4>ì˜ˆì œ ìš”ì²­ (ìœ ì‚¬ë„ ê²€ìƒ‰)</h4>
      <pre><code>curl "http://127.0.0.1:8123/api/attributes/data?bitMax=3.065276923076923&bitMin=2.659123076923078&similarity=true&threshold=0.1&limit=50"</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true,
  "count": 1,
  "items": [
    {
      "timestamp": "2025-11-11T01:00:00.000Z",
      "t": 1728600000000,
      "s": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
      "attribute": {
        "text": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
        "bitMax": 3.065276923076923,
        "bitMin": 2.659123076923078
      },
      "data": {
        "text": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
        "bitMax": null,
        "bitMin": null
      },
      "_similarity": 1.0,
      "_distance": 0
    }
  ]
}</code></pre>

      <div class="note">
        <strong>ì°¸ê³ :</strong> 
        <ul style="margin: 0.5rem 0 0; padding-left: 1.5rem;">
          <li><code>similarity=false</code> (ê¸°ë³¸ê°’): ì†ì„± BIT ê°’ì´ ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œë§Œ ë°˜í™˜</li>
          <li><code>similarity=true</code>: ìœ ì‚¬í•œ BIT ê°’ì„ ê°€ì§„ ë ˆì½”ë“œë¥¼ <code>threshold</code> ë²”ìœ„ ë‚´ì—ì„œ ê²€ìƒ‰í•˜ì—¬ ë°˜í™˜. ìœ ì‚¬ë„ê°€ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬ë¨</li>
          <li>ìœ ì‚¬ë„ ê²€ìƒ‰ ì‹œ ì‘ë‹µì— <code>_similarity</code> (0~1, ë†’ì„ìˆ˜ë¡ ìœ ì‚¬)ì™€ <code>_distance</code> (BIT ê°’ ì°¨ì´)ê°€ í¬í•¨ë¨</li>
        </ul>
      </div>

      <div class="example-box">
        <h4>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>íŒŒë¼ë¯¸í„°</th>
              <th>íƒ€ì…</th>
              <th>ê¸°ë³¸ê°’</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>novelTitle</code></td>
              <td>string</td>
              <td></td>
              <td>ì†Œì„¤ ì œëª©ìœ¼ë¡œ í•„í„°ë§ (ì„ íƒì‚¬í•­)</td>
            </tr>
            <tr>
              <td><code>limit</code></td>
              <td>number</td>
              <td>200</td>
              <td>ìµœëŒ€ ë°˜í™˜ ê°œìˆ˜ (1-500)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4>ì˜ˆì œ ìš”ì²­</h4>
      <pre><code>curl "http://127.0.0.1:8123/api/tests/records?limit=50"</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true,
  "count": 2,
  "items": [
    {
      "id": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±::ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...::data/max/.../file.ndjson::1728600000000",
      "novelTitle": "ë‹¤í¬ íŒíƒ€ì§€",
      "attributeText": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
      "attributeBits": {
        "max": 3.065276923076923,
        "min": 2.659123076923078
      },
      "dataText": "ì†Œì„¤ ë³¸ë¬¸ ë‚´ìš©...",
      "dataBits": {
        "max": null,
        "min": null
      },
      "source": {
        "file": "E:/GameTools/dev/novel_ai/v1.0.4/server/data/max/.../file.ndjson",
        "line": 1
      }
    }
  ]
}</code></pre>

      <h3>3. ë°ì´í„° ì‚­ì œ</h3>
      <p>
        <span class="method post">POST</span>
        <span class="endpoint">/api/attributes/data/delete</span>
      </p>
      <p>íŠ¹ì • ì†ì„± BIT ê°’ì„ ê°€ì§„ ë ˆì½”ë“œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ì†ì„± BITì™€ ë°ì´í„° BIT ëª¨ë‘ ì¼ì¹˜í•´ì•¼ ì‚­ì œë©ë‹ˆë‹¤.</p>

      <div class="example-box">
        <h4>ìš”ì²­ ë³¸ë¬¸</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>í•„ë“œ</th>
              <th>íƒ€ì…</th>
              <th>í•„ìˆ˜</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>attributeBitMax</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì‚­ì œí•  ì†ì„± BIT MAX</td>
            </tr>
            <tr>
              <td><code>attributeBitMin</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì‚­ì œí•  ì†ì„± BIT MIN</td>
            </tr>
            <tr>
              <td><code>dataBitMax</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì‚­ì œí•  ë°ì´í„° BIT MAX (ë°ì´í„° í…ìŠ¤íŠ¸ë¡œ ê³„ì‚°)</td>
            </tr>
            <tr>
              <td><code>dataBitMin</code></td>
              <td>number</td>
              <td>âœ“</td>
              <td>ì‚­ì œí•  ë°ì´í„° BIT MIN (ë°ì´í„° í…ìŠ¤íŠ¸ë¡œ ê³„ì‚°)</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4>ì˜ˆì œ ìš”ì²­</h4>
      <pre><code>curl -X POST http://127.0.0.1:8123/api/attributes/data/delete \
  -H "Content-Type: application/json" \
  -d '{
    "attributeBitMax": 3.065276923076923,
    "attributeBitMin": 2.659123076923078,
    "dataBitMax": 2.8649999999999993,
    "dataBitMin": 2.902142857142857
  }'</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true,
  "deletedCount": 2,
  "filesProcessed": 2,
  "details": [
    {
      "file": "data/max/.../file.ndjson",
      "deleted": 1
    },
    {
      "file": "data/min/.../file.ndjson",
      "deleted": 1
    }
  ]
}</code></pre>

      <h3>4. í´ë” êµ¬ì¡° ì¡°íšŒ</h3>
      <p>
        <span class="method get">GET</span>
        <span class="endpoint">/api/tests/folders</span>
      </p>
      <p>MAX/MIN í´ë”ë³„ íŒŒì¼Â·ë ˆì½”ë“œ ê°œìˆ˜ë¥¼ ì§‘ê³„í•©ë‹ˆë‹¤.</p>

      <div class="example-box">
        <h4>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</h4>
        <table class="param-table">
          <thead>
            <tr>
              <th>íŒŒë¼ë¯¸í„°</th>
              <th>íƒ€ì…</th>
              <th>ê¸°ë³¸ê°’</th>
              <th>ì„¤ëª…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>includeFiles</code></td>
              <td>boolean</td>
              <td>false</td>
              <td>trueì¼ ê²½ìš° ê° í´ë”ì˜ íŒŒì¼ ê²½ë¡œë„ í¬í•¨</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h4>ì˜ˆì œ ìš”ì²­</h4>
      <pre><code>curl "http://127.0.0.1:8123/api/tests/folders?includeFiles=true"</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true,
  "generatedAt": "2025-11-11T01:00:00.000Z",
  "summary": {
    "maxFolders": 12,
    "maxFiles": 28,
    "maxRecords": 84,
    "minFolders": 12,
    "minFiles": 28,
    "minRecords": 84
  },
  "max": [
    {
      "folder": "max/2/4/6/1/3/8/0/9/5/2/3/8/0/9/5/2/max_bit",
      "files": 1,
      "records": 1
    }
  ],
  "min": [
    {
      "folder": "min/2/6/5/9/1/2/3/0/7/6/9/2/3/0/7/8/min_bit",
      "files": 1,
      "records": 1
    }
  ]
}</code></pre>

      <h3>5. ì „ì²´ ë°ì´í„° ì´ˆê¸°í™”</h3>
      <p>
        <span class="method post">POST</span>
        <span class="endpoint">/api/tests/reset-all</span>
      </p>
      <p>ëª¨ë“  í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. <code>data/max</code>, <code>data/min</code>, <code>logs</code> ë””ë ‰í„°ë¦¬ë¥¼ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤.</p>

      <h4>ì˜ˆì œ ìš”ì²­</h4>
      <pre><code>curl -X POST http://127.0.0.1:8123/api/tests/reset-all \
  -H "Content-Type: application/json" \
  -d '{"confirm": "RESET"}'</code></pre>

      <h4>ì‘ë‹µ ì˜ˆì œ</h4>
      <pre><code>{
  "ok": true
}</code></pre>
    </section>

      <!-- ë°ì´í„° êµ¬ì¡° -->
      <section class="doc-section" id="section-data-structure">
        <h2>ë°ì´í„° êµ¬ì¡°</h2>
      <h3>ì €ì¥ í˜•ì‹</h3>
      <p>ê° ë ˆì½”ë“œëŠ” NDJSON(Newline Delimited JSON) í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.</p>
      <pre><code>{
  "timestamp": "2025-11-11T01:00:00.000Z",
  "t": 1728600000000,
  "s": "ë°ì´í„° ë³¸ë¬¸ í…ìŠ¤íŠ¸",
  "max": null,
  "min": null,
  "attribute": {
    "text": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
    "bitMax": 3.065276923076923,
    "bitMin": 2.659123076923078
  },
  "data": {
    "text": "ë°ì´í„° ë³¸ë¬¸ í…ìŠ¤íŠ¸",
    "bitMax": null,
    "bitMin": null
  },
  "novel": {
    "title": "ë‹¤í¬ íŒíƒ€ì§€",
    "bitMax": 3.2487,
    "bitMin": 2.4412
  },
  "chapter": {
    "number": "1",
    "title": "ì œ1ì¥",
    "description": "íšŒì˜ì‹¤ì˜ ê¸´ì¥",
    "bitMax": 2.9876,
    "bitMin": 2.1234
  }
}</code></pre>

      <h3>í´ë” êµ¬ì¡°</h3>
      <p>
        BIT ê°’ì˜ ê° ìë¦¿ìˆ˜ë¥¼ í´ë”ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì¤‘ì²©ëœ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ ë§Œë“­ë‹ˆë‹¤.
        ì˜ˆë¥¼ ë“¤ì–´ BIT MAX ê°’ì´ <code>3.065276923076923</code>ì¸ ê²½ìš°:
      </p>
      <pre><code>data/
  max/
    3/
      0/
        6/
          5/
            2/
              7/
                6/
                  9/
                    2/
                      3/
                        0/
                          7/
                            6/
                              9/
                                2/
                                  3/
                                    max_bit/
                                      1762817910716-xxxxx.ndjson
  min/
    2/
      6/
        5/
          9/
            ...
              min_bit/
                1762817910716-xxxxx.ndjson</code></pre>
    </section>

      <!-- BIT ê³„ì‚° -->
      <section class="doc-section" id="section-bit-calculation">
        <h2>BIT ê³„ì‚° ë°©ì‹</h2>
      <p>
        BIT(Bit Indexed Text) ê°’ì€ í…ìŠ¤íŠ¸ë¥¼ ìˆ«ìë¡œ ë³€í™˜í•˜ì—¬ ìƒì„±ë©ë‹ˆë‹¤.
        ì†ì„± í…ìŠ¤íŠ¸ì— ëŒ€í•´ì„œë§Œ BIT ê°’ì„ ê³„ì‚°í•˜ë©°, ë°ì´í„° í…ìŠ¤íŠ¸ëŠ” BIT ê³„ì‚°ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
      </p>
      <p>
        <strong>ê³„ì‚° ê·œì¹™:</strong>
      </p>
      <ul>
        <li>ê° ë¬¸ìë¥¼ ìœ ë‹ˆì½”ë“œ ì½”ë“œ í¬ì¸íŠ¸ë¡œ ë³€í™˜</li>
        <li>ì–¸ì–´ë³„ë¡œ ë‹¤ë¥¸ prefix ê°’ì„ ì ìš© (í•œê¸€: 1000000, ì¼ë³¸ì–´: 2000000 ë“±)</li>
        <li>50ê°œ ë‹¨ìœ„ë¡œ ë°°ì—´ì„ ë‚˜ëˆ„ì–´ MAX/MIN ê°’ì„ ê³„ì‚°</li>
        <li>ê¸°ë³¸ê°’(BIT_BASE_VALUE)ì€ 5.5</li>
      </ul>
      <div class="note">
        <strong>ì¤‘ìš”:</strong> ë°ì´í„°ëŠ” BIT ê³„ì‚° ì—†ì´ ì†ì„± BIT ê°’ìœ¼ë¡œë§Œ ì €ì¥ ìœ„ì¹˜ê°€ ê²°ì •ë©ë‹ˆë‹¤.
        ë”°ë¼ì„œ ê°™ì€ ì†ì„±ì„ ê°€ì§„ ë°ì´í„°ëŠ” í•­ìƒ ê°™ì€ MAX/MIN í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤.
      </div>
    </section>

      <!-- ì‚¬ìš© ì˜ˆì œ -->
      <section class="doc-section" id="section-examples">
        <h2>ì‚¬ìš© ì˜ˆì œ</h2>
      <h3>ì „ì²´ ì›Œí¬í”Œë¡œìš°</h3>
      <pre><code># 1. ì†ì„±ê³¼ ë°ì´í„° ì €ì¥
curl -X POST http://127.0.0.1:8123/api/attributes/data \
  -H "Content-Type: application/json" \
  -d '{
    "attributeText": "ë‹¤í¬ íŒíƒ€ì§€ â†’ ì±•í„° 1: ì œ1ì¥ â†’ êµ¬ì„±",
    "attributeBitMax": 3.065276923076923,
    "attributeBitMin": 2.659123076923078,
    "text": "ë¦¬ì‚¬ëŠ” ì¡°ìš©íˆ íšŒì˜ì‹¤ ë¬¸ì„ ì—´ì—ˆë‹¤...",
    "novelTitle": "ë‹¤í¬ íŒíƒ€ì§€"
  }'

# 2. ì €ì¥ëœ ë°ì´í„° ì¡°íšŒ
curl "http://127.0.0.1:8123/api/tests/records?limit=10"

# 2-1. ì†ì„± BIT ê°’ìœ¼ë¡œ ë°ì´í„° ì¡°íšŒ
curl "http://127.0.0.1:8123/api/attributes/data?bitMax=3.065276923076923&bitMin=2.659123076923078"

# 2-2. ì†ì„± BIT ê°’ìœ¼ë¡œ ìœ ì‚¬ë„ ê²€ìƒ‰
curl "http://127.0.0.1:8123/api/attributes/data?bitMax=3.065276923076923&bitMin=2.659123076923078&similarity=true&threshold=0.1"

# 3. í´ë” êµ¬ì¡° í™•ì¸
curl "http://127.0.0.1:8123/api/tests/folders"

# 4. íŠ¹ì • ë°ì´í„° ì‚­ì œ (ë°ì´í„° í…ìŠ¤íŠ¸ë¡œ BIT ê³„ì‚° í•„ìš”)
# ë°ì´í„° í…ìŠ¤íŠ¸: "ë¦¬ì‚¬ëŠ” ì¡°ìš©íˆ íšŒì˜ì‹¤ ë¬¸ì„ ì—´ì—ˆë‹¤..."
# ë°ì´í„° BIT ê³„ì‚° í›„ ì‚­ì œ ìš”ì²­
curl -X POST http://127.0.0.1:8123/api/attributes/data/delete \
  -H "Content-Type: application/json" \
  -d '{
    "attributeBitMax": 3.065276923076923,
    "attributeBitMin": 2.659123076923078,
    "dataBitMax": 2.8649999999999993,
    "dataBitMin": 2.902142857142857
  }'</code></pre>
    </section>

      <!-- ì—ëŸ¬ ì²˜ë¦¬ -->
      <section class="doc-section" id="section-error-handling">
        <h2>ì—ëŸ¬ ì²˜ë¦¬</h2>
      <p>ëª¨ë“  APIëŠ” ì—ëŸ¬ ë°œìƒ ì‹œ ë‹¤ìŒê³¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤:</p>
      <pre><code>{
  "ok": false,
  "error": "ì—ëŸ¬ ë©”ì‹œì§€"
}</code></pre>

      <h3>ì£¼ìš” ì—ëŸ¬ ì½”ë“œ</h3>
      <ul>
        <li><strong>400 Bad Request:</strong> í•„ìˆ˜ íŒŒë¼ë¯¸í„° ëˆ„ë½, BIT ê°’ ë¶ˆì¼ì¹˜</li>
        <li><strong>500 Internal Server Error:</strong> ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜</li>
      </ul>
      </section>
    </div>
  </div>

  <script>
    (() => {
      'use strict';

      // ì‚¬ì´ë“œë°” ë„ˆë¹„ ê´€ë¦¬
      const STORAGE_KEY = 'docSidebarWidth';
      const DEFAULT_WIDTH = 280;
      let sidebarWidth = parseInt(localStorage.getItem(STORAGE_KEY)) || DEFAULT_WIDTH;

      // ì‚¬ì´ë“œë°” ë„ˆë¹„ ì ìš©
      function applySidebarWidth(width) {
        const sidebar = document.getElementById('docSidebar');
        const resizer = document.getElementById('docResizer');
        const container = document.querySelector('.doc-container');
        
        if (sidebar && resizer && container) {
          sidebar.style.width = `${width}px`;
          resizer.style.left = `${width}px`;
          container.style.marginLeft = `${width + 4}px`;
          container.style.width = `calc(100% - ${width + 4}px)`;
          sidebarWidth = width;
          localStorage.setItem(STORAGE_KEY, width.toString());
        }
      }

      // ë¦¬ì‚¬ì´ì € ì´ˆê¸°í™”
      function initResizer() {
        const resizer = document.getElementById('docResizer');
        const sidebar = document.getElementById('docSidebar');
        if (!resizer || !sidebar) return;

        let isDragging = false;
        let startX = 0;
        let startWidth = 0;

        resizer.addEventListener('mousedown', (e) => {
          isDragging = true;
          startX = e.clientX;
          startWidth = sidebarWidth;
          resizer.classList.add('dragging');
          document.body.style.cursor = 'col-resize';
          document.body.style.userSelect = 'none';
          e.preventDefault();
        });

        document.addEventListener('mousemove', (e) => {
          if (!isDragging) return;
          
          const diff = e.clientX - startX;
          const newWidth = Math.max(200, Math.min(window.innerWidth * 0.5, startWidth + diff));
          applySidebarWidth(newWidth);
        });

        document.addEventListener('mouseup', () => {
          if (isDragging) {
            isDragging = false;
            resizer.classList.remove('dragging');
            document.body.style.cursor = '';
            document.body.style.userSelect = '';
          }
        });

        // í„°ì¹˜ ì´ë²¤íŠ¸ ì§€ì› (ëª¨ë°”ì¼)
        resizer.addEventListener('touchstart', (e) => {
          isDragging = true;
          startX = e.touches[0].clientX;
          startWidth = sidebarWidth;
          resizer.classList.add('dragging');
          e.preventDefault();
        });

        document.addEventListener('touchmove', (e) => {
          if (!isDragging) return;
          
          const diff = e.touches[0].clientX - startX;
          const newWidth = Math.max(180, Math.min(window.innerWidth * 0.8, startWidth + diff));
          applySidebarWidth(newWidth);
          e.preventDefault();
        });

        document.addEventListener('touchend', () => {
          if (isDragging) {
            isDragging = false;
            resizer.classList.remove('dragging');
          }
        });
      }

      // ëª¨ë°”ì¼ í† ê¸€ ê¸°ëŠ¥
      function initMobileToggle() {
        const toggleBtn = document.getElementById('docToggleBtn');
        const sidebar = document.getElementById('docSidebar');
        const overlay = document.getElementById('docOverlay');
        
        if (!toggleBtn || !sidebar || !overlay) return;

        function openSidebar() {
          sidebar.classList.add('open');
          overlay.classList.add('open');
        }

        function closeSidebar() {
          sidebar.classList.remove('open');
          overlay.classList.remove('open');
        }

        toggleBtn.addEventListener('click', () => {
          if (sidebar.classList.contains('open')) {
            closeSidebar();
          } else {
            openSidebar();
          }
        });

        overlay.addEventListener('click', closeSidebar);

        // ESC í‚¤ë¡œ ë‹«ê¸°
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && sidebar.classList.contains('open')) {
            closeSidebar();
          }
        });
      }

      // ëª©ì°¨ ìë™ ìƒì„±
      function generateTOC() {
        const toc = document.getElementById('docToc');
        if (!toc) return;

        const sections = document.querySelectorAll('.doc-section[id^="section-"]');
        const tocItems = [];

        sections.forEach(section => {
          const id = section.id;
          const h2 = section.querySelector('h2');
          if (!h2) return;

          const title = h2.textContent.trim();
          const li = document.createElement('li');
          const a = document.createElement('a');
          a.href = `#${id}`;
          a.textContent = title;
          a.addEventListener('click', (e) => {
            e.preventDefault();
            section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            updateActiveTOC(id);
          });
          li.appendChild(a);
          tocItems.push({ li, id, title });

          // h3 ì„œë¸Œ í•­ëª©ë„ ì¶”ê°€
          const h3s = section.querySelectorAll('h3');
          h3s.forEach((h3, index) => {
            const h3Id = `${id}-sub-${index}`;
            h3.id = h3Id;
            const subLi = document.createElement('li');
            subLi.className = 'sub-item';
            const subA = document.createElement('a');
            subA.href = `#${h3Id}`;
            subA.textContent = h3.textContent.trim();
            subA.addEventListener('click', (e) => {
              e.preventDefault();
              h3.scrollIntoView({ behavior: 'smooth', block: 'start' });
              updateActiveTOC(h3Id);
            });
            subLi.appendChild(subA);
            tocItems.push({ li: subLi, id: h3Id, title: h3.textContent.trim() });
          });
        });

        tocItems.forEach(item => toc.appendChild(item.li));
      }

      // í™œì„± ëª©ì°¨ í•­ëª© ì—…ë°ì´íŠ¸
      function updateActiveTOC(activeId) {
        const tocLinks = document.querySelectorAll('.doc-toc a');
        tocLinks.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${activeId}`) {
            link.classList.add('active');
          }
        });
      }

      // ìŠ¤í¬ë¡¤ ê°ì§€ë¡œ í™œì„± ì„¹ì…˜ ì—…ë°ì´íŠ¸
      function handleScroll() {
        const container = document.querySelector('.doc-container');
        if (!container) return;

        const scrollPos = container.scrollTop + 200;
        const sections = document.querySelectorAll('.doc-section[id^="section-"]');

        let currentSection = null;
        sections.forEach(section => {
          const top = section.offsetTop;
          const bottom = top + section.offsetHeight;
          if (scrollPos >= top && scrollPos < bottom) {
            currentSection = section.id;

            // í•´ë‹¹ ì„¹ì…˜ ë‚´ì˜ h3ë„ ì²´í¬
            const h3s = section.querySelectorAll('h3[id^="section-"]');
            h3s.forEach(h3 => {
              const h3Top = h3.offsetTop;
              const h3Bottom = h3Top + h3.offsetHeight;
              if (scrollPos >= h3Top && scrollPos < h3Bottom) {
                currentSection = h3.id;
              }
            });
          }
        });

        if (currentSection) {
          updateActiveTOC(currentSection);
        }
      }

      // í˜„ì¬ í˜ì´ì§€ ê°ì§€ ë° active í´ë˜ìŠ¤ ì„¤ì •
      function setActiveNavItem() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.doc-sidebar-nav a');
        navLinks.forEach(link => {
          link.classList.remove('active');
          const href = link.getAttribute('href');
          if (currentPath.endsWith(href) || (href === 'action_manual_test_doc.html' && currentPath.endsWith('action_manual_test_doc.html'))) {
            link.classList.add('active');
          }
        });
      }

      // ì´ˆê¸°í™”
      document.addEventListener('DOMContentLoaded', () => {
        // í˜„ì¬ í˜ì´ì§€ active ì„¤ì •
        setActiveNavItem();
        
        // ì´ˆê¸° ì‚¬ì´ë“œë°” ë„ˆë¹„ ì ìš©
        applySidebarWidth(sidebarWidth);
        
        // ë¦¬ì‚¬ì´ì € ì´ˆê¸°í™”
        initResizer();
        
        // ëª¨ë°”ì¼ í† ê¸€ ì´ˆê¸°í™”
        initMobileToggle();
        
        // ëª©ì°¨ ìƒì„±
        generateTOC();
        
        // ìŠ¤í¬ë¡¤ ê°ì§€
        const container = document.querySelector('.doc-container');
        if (container) {
          container.addEventListener('scroll', handleScroll);
          handleScroll(); // ì´ˆê¸° í™œì„± í•­ëª© ì„¤ì •
        }

        // ìœˆë„ìš° ë¦¬ì‚¬ì´ì¦ˆ ì‹œ ì‚¬ì´ë“œë°” ë„ˆë¹„ ì¬ì ìš©
        window.addEventListener('resize', () => {
          const maxWidth = window.innerWidth <= 991.98 ? window.innerWidth * 0.8 : window.innerWidth * 0.5;
          if (sidebarWidth > maxWidth) {
            applySidebarWidth(Math.min(sidebarWidth, maxWidth));
          }
        });
      });
    })();
  </script>
</body>
</html>

